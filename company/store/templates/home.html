{% extends 'base.html' %}

{% block content %}

<div class="row">
    <div class="col-sm-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Customers</h5>
                <p class="card-text">
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">Customer</th>
                        <th scope="col">Phone</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for customer in customers %}
                    <tr>
                        <td>{{ customer.first_name }} {{ customer.last_name }}</td>
                        <td>{{ customer.phone }}</td>
                        <td><a href="{% url 'customer' customer.id %}" class="btn btn-sm btn-info">View</a></td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                </p>
                <a href="{% url 'create_customer' %}" class="btn btn-primary">Create customer</a>
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title"> Total Orders</h5>
                <p class="card-text">
                <h3>{{ order_count }}</h3></p>
                <table class="table">
                    <thead>
                    <tr>
                        <th scope="col">Customer</th>
                        <th scope="col">Product</th>
                        <th scope="col">Date ordered</th>
                        <th scope="col">Status</th>
                        <th scope="col"></th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for order in orders %}
                    <tr>
                        <td>{{ order.customer }}</td>
                        <td>{{ order.product.name }}</td>
                        <td>{{ order.date_created }}</td>
                        <td>{{ order.status }}</td>
                        <td><a href="{% url 'update_order' order.id %}" class="btn btn-sm btn-info">Update</a></td>
                        <td><a href="{% url 'delete_order' order.id %}" class="btn btn-sm btn-danger">Remove</a></td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}